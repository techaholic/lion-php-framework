<table cellpadding="10" cellspacing="0" width="100%" border="0"><tr><td valign="top">
<div><a name=""></a><h1>Exceptions and I18n</h1>
  <div class="ref-purpose">Internationalizating Exceptions</div>
 <div class="ref-synopsis"></div>
<h2>Table of Contents</h2>
<ul>

<a href="../Exception/tutorial_Exception.I18n.pkg.html#error_table">The error table and I18n</a><br />
</ul>

 <p></p>
 <span><a name="error_table"></a><h2>The error table and I18n</h2><p>One of the most valuable benefits of using an error table (app/config/errors.xml) is how easy is to maintain I18n strings bound to each exception.<br />
  i.e.</p>
  <div class="listing"><pre><ol><li><div class="src-line"><span class="src-php">&lt;?</span><span class="src-id">xml&nbsp;version&nbsp;</span>=&nbsp;<span class="src-str">&quot;1.0&quot;&nbsp;</span><span class="src-id">standalone</span>=<span class="src-str">&quot;yes&quot;</span><span class="src-php">?&gt;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&lt;configuration&gt;</div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&lt;errors&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;Common&nbsp;errors&nbsp;--&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;error-group&nbsp;id=&quot;ERR_MODEL_ERRORS&quot;&nbsp;exception-class=&quot;MyModelExceptionClass&quot;&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;error&nbsp;code=&quot;75001&quot;&nbsp;id=&quot;ERR_INVOICE_CANNOT_BE_EMPTY&quot;&nbsp;/&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;error&nbsp;code=&quot;75002&quot;&nbsp;id=&quot;ERR_INVOICE_WRONG_DATE&quot;&nbsp;/&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;error&nbsp;code=&quot;75003&quot;&nbsp;id=&quot;ERR_INVOICE_NOT_FOUND&quot;&nbsp;/&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;error&nbsp;code=&quot;75004&quot;&nbsp;id=&quot;ERR_CUSTOMER_NOT_FOUND&quot;&nbsp;/&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/error-group&gt;</div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;error-group&nbsp;id=&quot;ERR_SECURITY_ERRORS&quot;&nbsp;exception-class=&quot;MySecurityExceptionClass&quot;&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;error&nbsp;code=&quot;76002&quot;&nbsp;id=&quot;ERR_WRONG_USERNAME_OR_PASSWORD&quot;&nbsp;/&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;error&nbsp;code=&quot;76008&quot;&nbsp;id=&quot;ERR_ACCESS_LOGIN_REQUIRED&quot;&nbsp;/&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</div></li>
</ol></pre></div>
  <p>Now we can declare a I18n file for each language, setting an entry with the same name as the id assigned to each error within the error table.</p>
  <p>If we have an error with id <strong>ERR_WRONG_USERNAME_OR_PASSWORD</strong>, this is the entry that we must set in our I18n files.</p>
  <p>i.e.
  <div class="listing"><pre><ol><li><div class="src-line"><span class="src-sym">;</span>------------------------------------------------</div></li>
<li><div class="src-line"><span class="src-sym">;</span><span class="src-id">Error&nbsp;strings</span>:&nbsp;<span class="src-comm">/////////////////////////////////</span></div></li>
<li><div class="src-line"><span class="src-sym">;</span>------------------------------------------------</div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line"><span class="src-id">ERR_INVOICE_CANNOT_BE_EMPTY&nbsp;</span>=&nbsp;<span class="src-str">&quot;Invoice&nbsp;can&nbsp;not&nbsp;be&nbsp;empty&quot;</span></div></li>
<li><div class="src-line"><span class="src-id">ERR_INVOICE_WRONG_DATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-str">&quot;Wrong&nbsp;date&nbsp;assigned&nbsp;to&nbsp;invoice&quot;</span></div></li>
<li><div class="src-line"><span class="src-id">ERR_INVOICE_NOT_FOUND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-str">&quot;Invoice&nbsp;not&nbsp;found:&nbsp;{0}&quot;</span></div></li>
<li><div class="src-line"><span class="src-id">ERR_CUSTOMER_NOT_FOUND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&nbsp;<span class="src-str">&quot;Customer&nbsp;not&nbsp;found:&nbsp;{0}&quot;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">...</div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line"><span class="src-id">ERR_WRONG_USERNAME_OR_PASSWORD&nbsp;</span>=&nbsp;<span class="src-str">&quot;Either&nbsp;the&nbsp;email&nbsp;does&nbsp;not&nbsp;correspond&nbsp;to&nbsp;</span></div></li>
<li><div class="src-line"><span class="src-str">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;registered&nbsp;user&nbsp;or&nbsp;the&nbsp;password&nbsp;is&nbsp;wrong&quot;</span></div></li>
<li><div class="src-line"><span class="src-id">ERR_ACCESS_LOGIN_REQUIRED&nbsp;</span>=&nbsp;<span class="src-str">&quot;You&nbsp;must&nbsp;be&nbsp;logged-in&nbsp;to&nbsp;access&nbsp;to&nbsp;this&nbsp;page&quot;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">...</div></li>
</ol></pre></div></p>
  <p>It's important to note that we must configure I18n strings as per session in case the exceptions may happens in whatever page, otherwise as per request.</p>
  <p>However, recommend to configure them as per session since eases refactorizations</p>
  <p>i.e.
  <div class="listing"><pre><ol><li><div class="src-line"><span class="src-php">&lt;?</span><span class="src-id">xml&nbsp;version&nbsp;</span>=&nbsp;<span class="src-str">&quot;1.0&quot;&nbsp;</span><span class="src-id">standalone</span>=<span class="src-str">&quot;yes&quot;</span><span class="src-php">?&gt;</span></div></li>
<li><div class="src-line">&lt;configuration&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&lt;resource-providers&gt;</div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;...</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;resource-provider&nbsp;class=&quot;__IniFileResourceProvider&quot;&nbsp;description=&quot;Error&nbsp;strings&quot;&nbsp;persistence-level=&quot;session&quot;&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;resources_type&nbsp;class=&quot;__ErrorMessageResource&quot;/&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;properties&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=&quot;languageDir&quot;&nbsp;value=&quot;libs/language&quot;/&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property&nbsp;name=&quot;filename&quot;&nbsp;value=&quot;errors.ini&quot;/&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/properties&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resource-provider&gt;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;...</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&lt;/resource-providers&gt;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;</div></li>
<li><div class="src-line">&lt;/configuration&gt;</div></li>
</ol></pre></div></p></span></div>
      </td></tr></table>
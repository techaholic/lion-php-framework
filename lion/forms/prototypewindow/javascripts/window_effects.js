Effect.ResizeWindow=Class.create();Object.extend(Object.extend(Effect.ResizeWindow.prototype,Effect.Base.prototype),{initialize:function(g,f,e,d,a){this.window=g;this.window.resizing=true;var c=g.getSize();this.initWidth=parseFloat(c.width);this.initHeight=parseFloat(c.height);var b=g.getLocation();this.initTop=parseFloat(b.top);this.initLeft=parseFloat(b.left);this.width=d!=null?parseFloat(d):this.initWidth;this.height=a!=null?parseFloat(a):this.initHeight;this.top=f!=null?parseFloat(f):this.initTop;this.left=e!=null?parseFloat(e):this.initLeft;this.dx=this.left-this.initLeft;this.dy=this.top-this.initTop;this.dw=this.width-this.initWidth;this.dh=this.height-this.initHeight;this.r2=$(this.window.getId()+"_row2");this.content=$(this.window.getId()+"_content");this.contentOverflow=this.content.getStyle("overflow")||"auto";this.content.setStyle({overflow:"hidden"});if(this.window.options.wiredDrag){this.window.currentDrag=g._createWiredElement();this.window.currentDrag.show();this.window.element.hide()}this.start(arguments[5])},update:function(b){var c=Math.floor(this.initWidth+this.dw*b);var a=Math.floor(this.initHeight+this.dh*b);var e=Math.floor(this.initTop+this.dy*b);var d=Math.floor(this.initLeft+this.dx*b);if(window.ie){if(Math.floor(a)==0){this.r2.hide()}else{if(Math.floor(a)>1){this.r2.show()}}}this.r2.setStyle({height:a});this.window.setSize(c,a);this.window.setLocation(e,d)},finish:function(a){if(this.window.options.wiredDrag){this.window._hideWiredElement();this.window.element.show()}this.window.setSize(this.width,this.height);this.window.setLocation(this.top,this.left);this.r2.setStyle({height:null});this.content.setStyle({overflow:this.contentOverflow});this.window.resizing=false}});Effect.ModalSlideDown=function(b){var c=WindowUtilities.getWindowScroll();var a=b.getStyle("height");b.setStyle({top:-(parseFloat(a)-c.top)+"px"});b.show();return new Effect.Move(b,Object.extend({x:0,y:parseFloat(a)},arguments[1]||{}))};Effect.ModalSlideUp=function(b){var a=b.getStyle("height");return new Effect.Move(b,Object.extend({x:0,y:-parseFloat(a)},arguments[1]||{}))};PopupEffect=Class.create();PopupEffect.prototype={initialize:function(a){this.html=$(a);this.options=Object.extend({className:"popup_effect",duration:0.4},arguments[1]||{})},show:function(d,b){var a=Position.cumulativeOffset(this.html);var c=this.html.getDimensions();var f=d.win.getBounds();this.window=d.win;if(!this.div){this.div=document.createElement("div");this.div.className=this.options.className;this.div.style.height=c.height+"px";this.div.style.width=c.width+"px";this.div.style.top=a[1]+"px";this.div.style.left=a[0]+"px";this.div.style.position="absolute";document.body.appendChild(this.div)}if(this.options.fromOpacity){this.div.setStyle({opacity:this.options.fromOpacity})}this.div.show();var e="top:"+f.top+";left:"+f.left+";width:"+f.width+";height:"+f.height;if(this.options.toOpacity){e+=";opacity:"+this.options.toOpacity}new Effect.Morph(this.div,{style:e,duration:this.options.duration,afterFinish:this._showWindow.bind(this)})},hide:function(d,b){var a=Position.cumulativeOffset(this.html);var c=this.html.getDimensions();this.window.visible=true;var f=this.window.getBounds();this.window.visible=false;this.window.element.hide();this.div.style.height=f.height;this.div.style.width=f.width;this.div.style.top=f.top;this.div.style.left=f.left;if(this.options.toOpacity){this.div.setStyle({opacity:this.options.toOpacity})}this.div.show();var e="top:"+a[1]+"px;left:"+a[0]+"px;width:"+c.width+"px;height:"+c.height+"px";if(this.options.fromOpacity){e+=";opacity:"+this.options.fromOpacity}new Effect.Morph(this.div,{style:e,duration:this.options.duration,afterFinish:this._hideDiv.bind(this)})},_showWindow:function(){this.div.hide();this.window.element.show()},_hideDiv:function(){this.div.hide()}};